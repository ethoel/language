<template name="edit">
  <h1>Edit</h1>
  {{> loginButtons}}
  
  <div>
    <h3>Upload new study</h3>
    
    <h3>Edit existing study</h3>
    
    <p>
      <select id="studiesDropDown">
        {{#each studies}}
        {{> studiesDropDownItem}}
        {{/each}}
      </select>
      <button id="editStudy">Edit</button>
      <button id="cancelStudy" class="hiddenFirst">Cancel</button>
      <button id="saveStudy" class="hiddenFirst">Save</button>
    </p>
    
    <p>
      <span class="editLabel">Visibility</span>
      <select id="publishDropDown" class="studyEditField" >
        <option value="private">Private</option>
        <option value="link only">Unlisted</option>
        <option value="public" selected>Public</option>
      </select>
      <input type="checkbox" id="verifiedCheckbox" class="studyEditField"  {{verified}}>
      <label for="verifiedCheckbox">Verified</label>
    </p>
    
<!--
    <p>
      <select id="normalAbnormalDropDown" class="studyEditField" >
        <option value="normal">Normal</option>
        <option value="abnormal">Abnormal</option>
      </select>
    </p>
    
    <p>
      <select id="imageTypeDropDown" class="studyEditField" >
        <option value="CT">Computed tomography (CT)</option>
        <option value="MRI">Magnetic resonance imaging (MRI)</option>
        <option value="US">Ultrasound</option>
      </select>
    </p>
-->
    <p>
      <span class="editLabel">Tags</span>
      <select id="allTagsDropDown" class="studyEditField" >
        {{#each allTags}}
        {{> allTagsDropDownItem}}
        {{/each}}
      </select>
      <input type="text" id="addStudyTagField" class="studyEditField hiddenFirst" placeholder="Study tag" >
      <button id="addStudyTagButton" class="studyEditField" >Add</button>
    </p>
    
    <p>
      {{#each studyTags}}
      {{> studyTag}}
      {{/each}}
    </p>
    
    <p>
      <span class="editLabel">Owner</span>
      <input type="text" id="currentStudyOwner" class="studyEditField" placeholder="Study owner" value="{{studyOwner}}" >
    </p>
  
    <p>
      <span class="editLabel">Address</span>
      <input type="text" id="currentStudyAddress" class="studyEditField" placeholder="Study address" value="{{studyAddress}}" >
    </p>
    
    <p>
      <span class="editLabel">Title</span>
      <input type="text" id="currentStudyTitle" class="studyEditField" placeholder="Study title" value="{{studyTitle}}" >
    </p>
    
    <p>
      <span class="editLabel">Credit</span>
      <input type="text" id="currentStudyCredit" class="studyEditField" placeholder="Study credit" value="{{studyCredit}}" >
    </p>
    
    <p>
      <span class="editLabel">Description</span>
      <textarea id="currentStudyDescription" class="studyEditField" placeholder="Study description" cols="30" rows="3" value="{{studyDescription}}" ></textarea>
    </p>
    
    <p>
      {{#each images}}
      {{> imageItem}}
      {{/each}}
    </p>
<!--
  <h4>Upload new study</h4>
  <input type="file" id="loadImages" multiple>
  <br/><br/>
  <input type="text" id="currentStudyAddress" placeholder="Study address">
  <button id="changeAddress">Change Study Address</button>
  <br/><br/>
  <input type="text" id="currentStudyName" placeholder="Study name">
  <button id="renameStudy">Rename Current Study</button>
  <button id="permDeleteStudy" class="deleteButton">DELETE Current Study</button>
  <br/>
-->
    
  </div>
</template>

<template name="studiesDropDownItem">
  <option value="{{this.name}}">{{this.title}}</option>
</template>

<template name="allTagsDropDownItem">
  <option value="{{this}}">{{this}}</option>
</template>

<template name="studyTag">
  <button class="studyTagButton studyEditField" value="{{this}}" disabled>{{this}}</button>
</template>

<template name="imageItem">
  <!--delete by clicking on image-->
  <img src="{{this.url}}" height="100">
  <span>
    {{this.index}}
    <button class="swapImage imageButton studyEditField" value="{{this.index}}" disabled>&lt;&gt;</button>
    <button class="insertImage imageButton studyEditField" disabled>i</button>
  </span>
</template>